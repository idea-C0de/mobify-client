{>"/base/lib/base_konf.konf"/}
{<tmpl}{/tmpl}
{<data} {

'OUTPUTHTML': function(context) {
	function validate() {
		var report = function(msg) {
			var url = 'http://' + location.hostname + ':1343/endTest';
			if (msg) url = url + '?msg=' + encodeURIComponent(msg);
			location.href = url;
			report = function(){};
		}
		
		try {
			(document.querySelectorAll('body')[0].innerHTML.split(/<script/i)[0] == "katze") || report('invalid body');
			(document.querySelectorAll('title')[0].innerHTML == "katze") || report('invalid title');
		} catch (ex) {
			report('unexpected exception')
		}
		report();
	}

    return '<!DOCTYPE><html><head><title>katze</title></head><body>katze' + '<script>(' + validate.toString() + ')();</scr' + 'ipt>' + '</body></html>'
}

} {/data}